!function(e){function t(t){for(var r,a,l=t[0],u=t[1],c=t[2],s=0,p=[];s<l.length;s++)a=l[s],i[a]&&p.push(i[a][0]),i[a]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);for(f&&f(t);p.length;)p.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,l=1;l<n.length;l++){var u=n[l];0!==i[u]&&(r=!1)}r&&(o.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},i={0:0},o=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var l=window.webpackJsonp=window.webpackJsonp||[],u=l.push.bind(l);l.push=t,l=l.slice();for(var c=0;c<l.length;c++)t(l[c]);var f=u;o.push([2,1]),n()}([,function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=[{id:"gender1",title:"Gender",field:"gender",type:"single-select",options:[{t:"Any",v:""},{t:"Male",v:"male"},{t:"Female",v:"female"}],initValue:function(){return""}},{id:"age1",title:"Age",longTitle:"Age (inputs)",field:"age",type:"minmax-input",initValue:function(){return["",""]}},{id:"age2",title:"Age",longTitle:"Age (selects)",field:"age",type:"minmax-select",options:[{t:"Any",v:""},20,30,40,50],initValue:function(){return["",""]}},{id:"age3",title:"Age",longTitle:"Age (ranges)",field:"age",type:"range",options:[{t:"Any",v:"-"},{t:"< 20",v:"-20"},"20-30","30-40","40-50",{t:">= 50",v:"50-"}],initValue:function(){return"-"}}]},function(e,t,n){"use strict";n.r(t),function(e){n(0),n(3),n(4),n(9);var t=n(1),r=new Vue({el:"#app",delimiters:["[[","]]"],data:{error:null,people:[],filters:[],allFilters:t.a},watch:{filters:{handler:function(){this.fetchPeople()},deep:!0}},filters:{json:function(e){return JSON.stringify(e)},fieldOrSelf:function(e,t){return e instanceof Object?e[t]:e}},methods:{fetchPeople:function(){var t=this,n={},r=[],i=!0,o=!1,a=void 0;try{for(var l,u=t.filters[Symbol.iterator]();!(i=(l=u.next()).done);i=!0){var c=l.value;"single-select"==c.type?n[c.field]={type:"single",value:c.value}:"minmax-input"==c.type||"minmax-select"==c.type?n[c.field]={id:c.id,type:"minmax",value:c.value}:"range"==c.type&&(n[c.field]={id:c.id,type:"minmax",value:c.value.split("-")}),r.push({id:c.id,value:c.value})}}catch(e){o=!0,a=e}finally{try{i||null==u.return||u.return()}finally{if(o)throw a}}e.bbq.pushState({filters:r}),e.get("/api/people?"+e.param({filters:n}),function(e){e.ok?(t.people=e.result,t.error=null):t.error="Error fetching data"}).fail(function(){t.error="Error fetching data"})},addFilter:function(e){for(var t in Vue.set(e,"value",e.initValue()),this.filters)if(e.field==this.filters[t].field)return void this.filters.splice(t,1,e);this.filters.push(e)},clearFilters:function(e){this.filters=[]},restoreFilters:function(){var t=e.bbq.getState("filters");try{for(var n=0,r=Object.values(t);n<r.length;n++){var i=r[n],o=!0,a=!1,l=void 0;try{for(var u,c=this.allFilters[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var f=u.value;if(f.id==i.id){Vue.set(f,"value",i.value),this.filters.push(f);break}}}catch(e){a=!0,l=e}finally{try{o||null==c.return||c.return()}finally{if(a)throw l}}}}catch(e){}}},mounted:function(){this.restoreFilters(),this.fetchPeople()}});e(window).bind("hashchange",function(e){r.restoreFilters()})}.call(this,n(0))},function(e,t,n){(function(e){function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}
/*!
* jQuery BBQ: Back Button & Query Library - v1.3.2 - 11/9/2017
* http://benalman.com/projects/jquery-bbq-plugin/
* 
* Copyright (c) 2010 "Cowboy" Ben Alman
* Dual licensed under the MIT and GPL licenses.
* http://benalman.com/about/license/
*/
/*!
* jQuery BBQ: Back Button & Query Library - v1.3.2 - 11/9/2017
* http://benalman.com/projects/jquery-bbq-plugin/
* 
* Copyright (c) 2010 "Cowboy" Ben Alman
* Dual licensed under the MIT and GPL licenses.
* http://benalman.com/about/license/
*/
!function(e,n){var r,i,o,a,l,u,c,f,s,p,d,h,v,y=Array.prototype.slice,g=decodeURIComponent,m=e.param,b=e.bbq=e.bbq||{},x=e.event.special,w="querystring",S="fragment",j=/^.*\?|#.*$/g,A={};function O(e){return"string"==typeof e}function $(e){var t=y.call(arguments,1);return function(){return e.apply(this,t.concat(y.call(arguments)))}}function F(t,n,o,l,u){var c,f,h,y,m;return l!==r?(m=(h=o.match(t?p:/^([^#?]*)\??([^#]*)(#?.*)/))[3]||"",2===u&&O(l)?f=l.replace(t?s:j,""):(y=a(h[2]),l=O(l)?a[t?S:w](l):l,f=2===u?l:1===u?e.extend({},l,y):e.extend({},y,l),f=i(f),t&&(f=f.replace(d,g))),c=h[1]+(t?v:f||!h[1]?"?":"")+f+m):c=n(o!==r?o:location.href),c}function P(e,t,n){return t===r||"boolean"==typeof t?(n=t,t=m[e?S:w]()):t=O(t)?t.replace(e?s:j,""):t,a(t,n)}function V(n,i,o,a){return O(o)||"object"===t(o)||(a=o,o=i,i=r),this.each(function(){var t=e(this),r=i||f()[(this.nodeName||"").toLowerCase()]||"",l=r&&t.attr(r)||"";t.attr(r,m[n](l,o,a))})}m[w]=$(F,0,function(e){return e.replace(/(?:^[^?#]*\?([^#]*).*$)?.*/,"$1")}),m[S]=o=$(F,1,function(e){return e.replace(p,"$2")}),m.sorted=i=function(t,n){var r=[],i={};return e.each(m(t,n).split("&"),function(e,t){var n=t.replace(/(?:%5B|=).*$/,""),o=i[n];o||(o=i[n]=[],r.push(n)),o.push(t)}),e.map(r.sort(),function(e){return i[e]}).join("&")},o.noEscape=function(t){t=t||"";var n=e.map(t.split(""),encodeURIComponent);d=new RegExp(n.join("|"),"g")},o.noEscape(",/"),o.ajaxCrawlable=function(e){return e!==r&&(e?(s=/^.*(?:#!|#)/,p=/^([^#]*)(?:#!|#)?(.*)$/,v="#!"):(s=/^.*#/,p=/^([^#]*)#?(.*)$/,v="#"),h=!!e),h},o.ajaxCrawlable(0),e.deparam=a=function(t,n){var i={},o={true:!0,false:!1,null:null};return e.each(t.replace(/\+/g," ").split("&"),function(t,a){var l,u=a.split("="),c=g(u[0]),f=i,s=0,p=c.split("]["),d=p.length-1;if(/\[/.test(p[0])&&/\]$/.test(p[d])?(p[d]=p[d].replace(/\]$/,""),d=(p=p.shift().split("[").concat(p)).length-1):d=0,2===u.length)if(l=g(u[1]),n&&(l=l&&!isNaN(l)?+l:"undefined"===l?r:o[l]!==r?o[l]:l),d)for(;s<=d;s++)f=f[c=""===p[s]?f.length:p[s]]=s<d?f[c]||(p[s+1]&&isNaN(p[s+1])?{}:[]):l;else e.isArray(i[c])?i[c].push(l):i[c]!==r?i[c]=[i[c],l]:i[c]=l;else c&&(i[c]=n?r:"")}),i},a[w]=$(P,0),a[S]=l=$(P,1),e.elemUrlAttr||(e.elemUrlAttr=function(t){return e.extend(A,t)})({a:"href",base:"href",iframe:"src",img:"src",input:"src",form:"action",link:"href",script:"src"}),f=e.elemUrlAttr,e.fn[w]=$(V,w),e.fn[S]=$(V,S),b.pushState=u=function(e,t){O(e)&&/^#/.test(e)&&t===r&&(t=2);var n=e!==r,i=o(location.href,n?e:{},n?t:2);location.href=i},b.getState=c=function(e,t){return e===r||"boolean"==typeof e?l(e):l(t)[e]},b.removeState=function(t){var n={};t!==r&&(n=c(),e.each(e.isArray(t)?t:arguments,function(e,t){delete n[t]})),u(n,2)},x.hashchange=e.extend(x.hashchange,{add:function(t){var n;function i(e){var t=e[S]=o();e.getState=function(e,n){return e===r||"boolean"==typeof e?a(t,e):a(t,n)[e]},n.apply(this,arguments)}if(e.isFunction(t))return n=t,i;n=t.handler,t.handler=i}})}(e),
/*!
* jQuery hashchange event - v1.3 - 7/21/2010
* http://benalman.com/projects/jquery-hashchange-plugin/
* 
* Copyright (c) 2010 "Cowboy" Ben Alman
* Dual licensed under the MIT and GPL licenses.
* http://benalman.com/about/license/
*/
function(e,t,n){var r,i="hashchange",o=document,a=e.event.special,l=o.documentMode,u="on"+i in t&&(void 0===l||l>7);function c(e){return"#"+(e=e||location.href).replace(/^[^#]*#?(.*)$/,"$1")}e.fn[i]=function(e){return e?this.on(i,e):this.trigger(i)},e.fn[i].delay=50,a[i]=e.extend(a[i],{setup:function(){if(u)return!1;e(r.start)},teardown:function(){if(u)return!1;e(r.stop)}}),r=function(){var n,r,a,l={},f=c(),s=function(e){return e},p=s,d=s;function h(){var r=c(),o=d(f);r!==f?(p(f=r,o),e(t).trigger(i)):o!==f&&(location.href=location.href.replace(/#.*/,"")+o),n=setTimeout(h,e.fn[i].delay)}return l.start=function(){n||h()},l.stop=function(){n&&clearTimeout(n),n=void 0},document.all&&!u&&(l.start=function(){r||(a=(a=e.fn[i].src)&&a+c(),r=e('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){a||p(c()),h()}).attr("src",a||"javascript:0").insertAfter("body")[0].contentWindow,o.onpropertychange=function(){try{"title"===event.propertyName&&(r.document.title=o.title)}catch(e){}})},l.stop=s,d=function(){return c(r.location.href)},p=function(t,n){var a=r.document,l=e.fn[i].domain;t!==n&&(a.title=o.title,a.open(),l&&a.write('<script>document.domain="'+l+'"<\/script>'),a.close(),r.location.hash=t)}),l}()}(e,this)}).call(this,n(0))}]);